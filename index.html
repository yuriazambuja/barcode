<!DOCTYPE html>
<html lang='pt-BR'>
	<head>
		<title>BarCode</title>
		<meta charset='UTF-8' />
		<meta name="robots" content="noindex" />
		<meta name="viewport" content="width=device-width,user-scalable=no" />
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" src="webservice.js"></script>
		<script type="text/javascript" src="jquery.js"></script>
		<script>
		function barcode(){
			cordova.plugins.barcodeScanner.scan(
				function (result) {
					if(!result.cancelled){
						$('cep').val(result.text);
					}
				},
				function (error) {
					alert("Scanning failed: " + error);
				},
				{
					//preferFrontCamera : true, // iOS and Android
					//showFlipCameraButton : true, // iOS and Android
					//saveHistory: true, // Android, save scan history (default false)
					//formats : "QR_CODE,PDF_417", // default: all but PDF_417 and RSS_EXPANDED
					//orientation : "landscape", // Android only (portrait|landscape), default unset so it rotates with the device
					showTorchButton : true, // iOS and Android
					torchOn: true, // Android, launch with the torch switched on (if available)
					prompt : "POSICIONE O CÓDIGO DE BARRAS NA ÁREA INDICADA", // Android
					resultDisplayDuration: 500, // Android, display scanned text for X ms. 0 suppresses it entirely, default 1500
					disableAnimations : true, // iOS
					disableSuccessBeep: false // iOS and Android
				}
			);
		}
		function correios(){
			var wsdl = "https://apps.correios.com.br/SigepMasterJPA/AtendeClienteService/AtendeCliente?wsdl";
			new WebService(wsdl).call("consultaCEP",{cep:$('cep').val()},function(status,object){
				if(status==200){
					$('logradouro').val(object.end);
					$('bairro').val(object.bairro);
					$('cidade').val(object.cidade);
					$('estado').val(object.uf);
				}else{
					alert("WebService failed: " + status);
				}
			});
		}
		</script>
	</head>
	<body>
		<button onclick="barcode()">CÓDIGO DE BARRAS</button>
		<input type='text' id='cep'/>
		<button onclick="correios()">CONSULTA CORREIOS</button>
		<input type='text' id='logradouro'/>
		<input type='text' id='bairro'/>
		<input type='text' id='cidade'/>
		<input type='text' id='estado'/>
	</body>
</html>
